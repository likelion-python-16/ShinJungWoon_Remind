<button class="social-btn likeBtn" data-id="${todo.id}"><span class="icon">${todo.is_liked ? 'ğŸ’”' : 'â¤ï¸'}</span> <span class="count">${todo.like_count}</span></button>


<script>
// ì¢‹ì•„ìš” ë²„íŠ¼ ì´ë²¤íŠ¸ ë“±ë¡    
div.querySelectorAll('.likeBtn').forEach(btn => {
    btn.addEventListener('click', function (e) {
        e.stopPropagation();
        toggleLike(btn.dataset.id); // "data-id" ì†ì„±ì— ë‹´ê¸´ ê°’ì„ ì¸ìë¡œ ì „ë‹¬í•´ì„œ toggleLike() í•¨ìˆ˜ë¥¼ ì‹¤í–‰í•˜ë¼.
    });
});

// ì¢‹ì•„ìš” í† ê¸€ í•¨ìˆ˜
function toggleLike(id) {
    axiosInstance.post(`/api/interaction/likes/${id}/toggle/`)
        .then(res => {
            const { is_liked, like_count } = res.data;
            const btn = document.querySelector(`.likeBtn[data-id="${id}"]`);
            if (btn) btn.innerHTML = `${is_liked ? 'ğŸ’”' : 'â¤ï¸'} <span class="count">${like_count}</span>`;
        })
        .catch(err => console.error(" ì¢‹ì•„ìš” í† ê¸€ ì‹¤íŒ¨:", err));
}

</script>
    